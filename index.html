<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8"> <!-- Obligatory -->
  <link rel="stylesheet" href="css/ui.css">
  <link rel="stylesheet" href="css/equalizer_ui.css">
  <link rel="stylesheet" href="css/playlist_ui.css">
  <link rel="stylesheet" href="css/progressbar.css">
  <link rel="stylesheet" href="css/input_modal.css">
  <script src="wavesurfer.min.js"></script>
  <script src="custom_modal.js"></script>
</head>

<body>


  <div id="progressTooltip">
    <div id="progressMessage">Indexando...</div>
    <div id="progressBar">
      <div id="progressFill"></div>
    </div>
  </div>

  <!-- Modal cambiar nombre -->
  <div id="renameModal">
    <div class="modal-content">
      <div id="renameMessage">Renombrar archivo:</div>
      <input type="text" id="renameInput" />
      <div class="modal-buttons">
        <button id="renameCancel">Cancelar</button>
        <button id="renameOk">OK</button>
      </div>
    </div>
  </div>

  <h1>üéµ EtudePlayer</h1>

  <div id="controls">
    <button id="prevBtn">‚èÆÔ∏è Anterior</button>
    <button id="playPauseBtn">‚ñ∂Ô∏è/‚è∏Ô∏è</button>
    <button id="nextBtn">‚è≠Ô∏è Siguiente</button>
    <button id="stopBtn">‚èπÔ∏è Stop</button>
    <button id="copyBtn">Copy Filename</button>

    <br>

    <label>
      <input type="checkbox" id="stopAfterCheckbox">
      Stop after current song
    </label>
    <br>
    <div id="volumeControl">
      <input type="range" id="volumeSlider" min="0" max="100" value="10">
      <span id="volumeLabel">10%</span>
    </div>
    <br>
    <button id="btnMute">Mute</button>
    <button id="btnVolDown">V-</button>
    <button id="btnVolUp">V+</button>
    <br>

    <div id="videoContainer" style="display:none; text-align:center;">
      <video id="videoPlayer" controls playsinline style="width:100%; max-width:600px;"></video>
    </div>

    <br>

    <div id="waveform"></div>

    <br>

    <div id="durations">
      <span>Total: <span id="totalDur">0:00</span></span> |
      <span>Current: <span id="currentDur">0:00</span></span> |
      <span>Left: <span id="leftDur">0:00</span></span>
    </div>

    <br>

    <div>
      <label for="pitchSlider">Pitch/Speed:</label>
      <input type="range" id="pitchSlider" min="0.5" max="2.0" step="0.01" value="1.0">
      <input type="number" id="pitchInput" min="0.5" max="2.0" step="0.01" value="1.0">
    </div>

    <br>

    <div id="statusBar">EtudePlayer</div>

    <br>

    <h2>Ecualizador</h2>
    <div id="eqContainer">
      <div class="eqBand">
        <div class="eqLabel">32 Hz</div>
        <input type="range" min="-40" max="40" step="0.1">
      </div>
      <div class="eqBand">
        <div class="eqLabel">64 Hz</div>
        <input type="range" min="-40" max="40" step="0.1">
      </div>
      <div class="eqBand">
        <div class="eqLabel">125 Hz</div>
        <input type="range" min="-40" max="40" step="0.1">
      </div>
      <div class="eqBand">
        <div class="eqLabel">250 Hz</div>
        <input type="range" min="-40" max="40" step="0.1">
      </div>
      <div class="eqBand">
        <div class="eqLabel">500 Hz</div>
        <input type="range" min="-40" max="40" step="0.1">
      </div>
      <div class="eqBand">
        <div class="eqLabel">1k Hz</div>
        <input type="range" min="-40" max="40" step="0.1">
      </div>
      <div class="eqBand">
        <div class="eqLabel">2k Hz</div>
        <input type="range" min="-40" max="40" step="0.1">
      </div>
      <div class="eqBand">
        <div class="eqLabel">4k Hz</div>
        <input type="range" min="-40" max="40" step="0.1">
      </div>
      <div class="eqBand">
        <div class="eqLabel">8k Hz</div>
        <input type="range" min="-40" max="40" step="0.1">
      </div>
      <div class="eqBand">
        <div class="eqLabel">16k Hz</div>
        <input type="range" min="-40" max="40" step="0.1">
      </div>
    </div>
    <br>
    <button id="resetEQ">Restablecer EQ</button>

  </div>

  <h2>Playlist</h2>
  <!-- <div id="playlist"></div> -->
  <table id="playlist" class="playlist">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Duraci√≥n</th>
      </tr>
    </thead>
    <tbody>
      <!-- Canciones aqu√≠ -->
    </tbody>
  </table>

  <h2>Folder Bar</h2>
  <div id="tree"></div>

  <!-- Move Dialog Modal (actualizado con treeview y cancel abajo) -->
  <div id="moveModal"
    style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:1000;">
    <div
      style="background:#fff; width:780px; max-height:80vh; overflow:auto; border-radius:8px; padding:12px; box-shadow:0 6px 30px rgba(0,0,0,0.4);">
      <div style="display:flex; gap:8px; align-items:center; margin-bottom:8px;">
        <button id="moveBtnUp" title="Subir carpeta">./</button>
        <button id="moveBtnNew" title="Crear nueva carpeta">/+ Nuevo</button>
        <div style="flex:1;"></div>
      </div>

      <div id="moveTreeContainer"
        style="border:1px solid #ddd; padding:8px; height:420px; overflow:auto; font-family:system-ui, monospace;">
        <!-- Tree (llenado por renderer) -->
        <div id="moveTreeRoot"></div>
      </div>

      <div style="display:flex; justify-content:flex-end; gap:8px; margin-top:12px;">
        <button id="moveCancelBtn">Cancelar</button>
        <button id="moveConfirmBtn"
          style="background:#0b74de; color:#fff; border:none; padding:6px 12px; border-radius:4px;">Mover</button>
      </div>
    </div>
  </div>

  <!-- Move progress tooltip (mantener igual) -->
  <div id="moveProgressTooltip"
    style="display:none; position:fixed; right:18px; bottom:18px; background:#222; color:#fff; padding:10px; border-radius:6px; z-index:1100;">
    <div id="moveProgressMessage">Moviendo archivos...</div>
    <div style="width:260px; height:8px; background:#444; border-radius:4px; margin-top:8px;">
      <div id="moveProgressFill" style="width:0%; height:100%; background:#3fb; border-radius:4px;"></div>
    </div>
  </div>

  <!-- Treeview minimal styles (puedes mover a tu CSS) -->
  <style>
    /* move dialog tree styles */
    #moveTreeRoot ul { list-style:none; padding-left:14px; margin:4px 0; }
    #moveTreeRoot li { padding:4px 6px; cursor:pointer; display:flex; align-items:center; gap:8px; user-select:none; }
    #moveTreeRoot li .expander { width:16px; display:inline-block; text-align:center; transform-origin:50% 50%; transition: transform .12s; }
    #moveTreeRoot li[data-has-children="1"] .expander { color: #666; }
    #moveTreeRoot li.expanded > .expander { transform: rotate(90deg); }
    #moveTreeRoot li .label { flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    #moveTreeRoot li.selected { background:#e6f7ff; border-radius:4px; }
    #moveTreeRoot .year-header { font-weight:700; padding:6px 4px; cursor:pointer; display:flex; align-items:center; gap:8px; }
    #moveTreeRoot .year-children { display:none; margin-left:6px; border-left:1px dashed #eee; padding-left:6px; }
    #moveTreeRoot .year-children.open { display:block; }
  </style>


  <script src="renderer.js"></script>
</body>

</html>